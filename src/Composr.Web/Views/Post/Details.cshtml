@model Composr.Web.ViewModels.PostViewModel
@{
    ViewBag.Title = "Post Details";
}

<ol class="breadcrumb">
    <li><a href="/admin/blogs">blogs</a></li>
    <li><a href="/admin/blogs/@Model.BlogId/posts">posts</a></li>
    <li class="active">details</li>
</ol>

<form method="post">
    <div class="btn-toolbar" role="toolbar">
        <button type="submit" class="btn btn-primary pull-right">Save</button>
        <a class="btn btn-default pull-right" href="/admin/blogs/@Model.BlogId/posts">Cancel</a>
        <select class="btn btn-default pull-right" id="poststatus" name="poststatus" asp-for="PostStatus" asp-items="Html.GetEnumSelectList<Composr.Core.PostStatus>()"></select>
    </div>
    <div asp-validation-summary="ValidationSummary.ModelOnly"></div>

    <div class="form-group">
        <label for="title">Title</label><input class="form-control" type="text" name="title" id="title" asp-for="Title" value="@Model.Title" required minlength="5" maxlength="100"/>
        <span asp-validation-for="Title"></span>
    </div>

    <div class="form-group">
        <label for="title">URN</label><input class="form-control" type="text" name="urn" id="urn" asp-for="URN" value="@Model.URN" maxlength="250" />
        <span asp-validation-for="URN"></span>
    </div>

    <div class="form-group">
        <label for="body">Body</label>
        <textarea autofocus class="form-control" name="body" id="body" asp-for="Body" rows="10" required>@Model.Body</textarea>
        <span asp-validation-for="Body"></span>
    </div>

    @*<div class="form-group">
        <div class="dropdown">
            <label for="poststatus">Status</label>
            <select id="poststatus" name="poststatus" asp-for="PostStatus" asp-items="Html.GetEnumSelectList<Composr.Core.PostStatus>()">
            </select>
        </div>
    </div>*@
</form>

@section scripts {
    <script src="~/lib/tinymce/tinymce.min.js"></script>
@*<script src="~/lib/tinymce/tinymce.jquery.min.js"></script>*@
    <script>
        tinymce.init({
            plugins: [
                'advlist autolink lists link image charmap print preview hr anchor pagebreak',
                'searchreplace wordcount visualblocks visualchars code fullscreen',
                'insertdatetime media nonbreaking save table contextmenu directionality',
                'emoticons template paste textcolor colorpicker textpattern imagetools'
            ],
            toolbar1: 'insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media | print preview | code',
            image_advtab: true,
            selector: '#body',
            menubar: false,
            setup: function (editor) {
                editor.on('change', function () {
                    editor.save();
                });
            }
      });
    </script>
}